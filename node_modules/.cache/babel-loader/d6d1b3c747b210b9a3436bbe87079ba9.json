{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\react\\\\react-auth\\\\src\\\\pages\\\\Auth.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport AuthContext, { Oathcontext } from \"../store/AuthContext\";\nimport './Auth.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Auth = () => {\n  _s();\n\n  //navigate\n  const navigate = useNavigate(); //context\n\n  const oathContext = useContext(Oathcontext);\n  const [loginToggle, setLogin] = useState(true);\n\n  const toggleHandler = () => {\n    setLogin(preVal => !preVal);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const emailInput = document.getElementById('email').value;\n    const emailPassword = document.getElementById('password').value;\n    console.log(emailInput);\n    console.log(emailPassword);\n\n    if (loginToggle) {\n      fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAsySVKfOiJBUKOhOdwrymEguoXwStpNe0', {\n        method: 'POST',\n        body: JSON.stringify({\n          'email': emailInput,\n          'password': emailPassword,\n          'returnSecureToken': true\n        }),\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then(data => {\n            let message = \"Authenticaion failed\";\n\n            if (data) {\n              message = data.error.message;\n            }\n\n            alert(message);\n          });\n        }\n      }).then(data => {\n        alert('login successfull');\n        console.log('successfull response', data);\n        oathContext.Login(data.idToken);\n        navigate('/profile');\n      }).catch(error => {\n        alert(error);\n      });\n    } else {\n      fetch('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAsySVKfOiJBUKOhOdwrymEguoXwStpNe0', {\n        method: 'POST',\n        body: JSON.stringify({\n          'email': emailInput,\n          'password': emailPassword,\n          'returnSecureToken': true\n        }),\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(res => {\n        if (res.ok) {\n          alert('account created successfully');\n        } else {\n          return res.json().then(data => {\n            let message = \"Authenticaion failed\";\n\n            if (data) {\n              message = data.error.message;\n            }\n\n            alert(message);\n          });\n        }\n\n        console.log(res.json());\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login_form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: loginToggle ? 'login' : 'sign up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input_group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input_group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: loginToggle ? \"login\" : \"create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: toggleHandler,\n            children: !loginToggle ? \"login\" : \"create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Auth, \"vF4WS5Dny//vQ3KeeVVHOR8zaOg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useContext","useState","useNavigate","AuthContext","Oathcontext","Auth","navigate","oathContext","loginToggle","setLogin","toggleHandler","preVal","submitHandler","e","preventDefault","emailInput","document","getElementById","value","emailPassword","console","log","fetch","method","body","JSON","stringify","headers","then","res","ok","json","data","message","error","alert","Login","idToken","catch"],"sources":["E:/project/react/react-auth/src/pages/Auth.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport AuthContext, { Oathcontext } from \"../store/AuthContext\";\r\nimport './Auth.scss';\r\n\r\n\r\nconst Auth = () => {\r\n\r\n  //navigate\r\n  const navigate=useNavigate();\r\n\r\n  //context\r\n  const oathContext = useContext(Oathcontext);\r\n\r\n  const [loginToggle, setLogin] = useState(true);\r\n\r\n  const toggleHandler = () => {\r\n    setLogin((preVal) => !preVal);\r\n  };\r\n\r\n  const submitHandler=(e)=>{\r\n    e.preventDefault();\r\n    const emailInput = document.getElementById('email').value;\r\n    const emailPassword = document.getElementById('password').value;\r\n\r\n    console.log(emailInput);\r\n    console.log(emailPassword);\r\n    \r\n    if(loginToggle){\r\n        fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAsySVKfOiJBUKOhOdwrymEguoXwStpNe0',\r\n        {\r\n            method:'POST',\r\n            body:JSON.stringify({\r\n                'email':emailInput,\r\n                'password':emailPassword,\r\n                'returnSecureToken':true\r\n\r\n            }),\r\n            headers:{'content-type':'application/json'}\r\n    \r\n        }).then((res)=>{\r\n            if(res.ok){\r\n                return res.json()\r\n            }else{\r\n                return res.json().then(data=>{\r\n                    let message=\"Authenticaion failed\";\r\n                    if(data){\r\n                        message=data.error.message;\r\n                    }\r\n                    alert(message);\r\n                })\r\n            }\r\n\r\n        }).then((data)=>{\r\n          alert('login successfull');\r\n          console.log('successfull response',data)\r\n          oathContext.Login(data.idToken);\r\n          navigate('/profile');\r\n        }).catch((error)=>{alert(error)})\r\n\r\n    }else{\r\n        fetch('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAsySVKfOiJBUKOhOdwrymEguoXwStpNe0',\r\n        {\r\n            method:'POST',\r\n            body:JSON.stringify({\r\n                'email':emailInput,\r\n                'password':emailPassword,\r\n                'returnSecureToken':true\r\n\r\n            }),\r\n            headers:{'content-type':'application/json'}\r\n    \r\n        }).then((res)=>{\r\n            if(res.ok){\r\n                alert('account created successfully');    \r\n            }else{\r\n                return res.json().then(data=>{\r\n                    let message=\"Authenticaion failed\";\r\n                    if(data){\r\n                        message=data.error.message;\r\n                    }\r\n                    alert(message);\r\n                })\r\n            }\r\n            console.log(res.json())\r\n        })\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"login_form\">\r\n       <h1>{loginToggle?'login':'sign up'}</h1> \r\n      <form onSubmit={submitHandler}>\r\n        <div className=\"input_group\">\r\n          <label>Email</label><br/>\r\n          <input type=\"email\" id=\"email\" required />\r\n        </div>\r\n        <div className=\"input_group\">\r\n          <label>password</label><br/>\r\n          <input type=\"password\" id=\"password\" required />\r\n        </div>\r\n        <div className=\"actions\">\r\n          <p>\r\n            <button type=\"submit\">\r\n              {loginToggle ? \"login\" : \"create an account\"}\r\n            </button>\r\n          </p>\r\n          <p>\r\n            <button type=\"button\" onClick={toggleHandler}>\r\n              {!loginToggle ? \"login\" : \"create an account\"}\r\n            </button>\r\n          </p>\r\n\r\n         \r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,WAAP,IAAsBC,WAAtB,QAAyC,sBAAzC;AACA,OAAO,aAAP;;;AAGA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEjB;EACA,MAAMC,QAAQ,GAACJ,WAAW,EAA1B,CAHiB,CAKjB;;EACA,MAAMK,WAAW,GAAGP,UAAU,CAACI,WAAD,CAA9B;EAEA,MAAM,CAACI,WAAD,EAAcC,QAAd,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;;EAEA,MAAMS,aAAa,GAAG,MAAM;IAC1BD,QAAQ,CAAEE,MAAD,IAAY,CAACA,MAAd,CAAR;EACD,CAFD;;EAIA,MAAMC,aAAa,GAAEC,CAAD,IAAK;IACvBA,CAAC,CAACC,cAAF;IACA,MAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAApD;IACA,MAAMC,aAAa,GAAGH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAA1D;IAEAE,OAAO,CAACC,GAAR,CAAYN,UAAZ;IACAK,OAAO,CAACC,GAAR,CAAYF,aAAZ;;IAEA,IAAGX,WAAH,EAAe;MACXc,KAAK,CAAC,mHAAD,EACL;QACIC,MAAM,EAAC,MADX;QAEIC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;UAChB,SAAQX,UADQ;UAEhB,YAAWI,aAFK;UAGhB,qBAAoB;QAHJ,CAAf,CAFT;QAQIQ,OAAO,EAAC;UAAC,gBAAe;QAAhB;MARZ,CADK,CAAL,CAWGC,IAXH,CAWSC,GAAD,IAAO;QACX,IAAGA,GAAG,CAACC,EAAP,EAAU;UACN,OAAOD,GAAG,CAACE,IAAJ,EAAP;QACH,CAFD,MAEK;UACD,OAAOF,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,IAAI,IAAE;YACzB,IAAIC,OAAO,GAAC,sBAAZ;;YACA,IAAGD,IAAH,EAAQ;cACJC,OAAO,GAACD,IAAI,CAACE,KAAL,CAAWD,OAAnB;YACH;;YACDE,KAAK,CAACF,OAAD,CAAL;UACH,CANM,CAAP;QAOH;MAEJ,CAxBD,EAwBGL,IAxBH,CAwBSI,IAAD,IAAQ;QACdG,KAAK,CAAC,mBAAD,CAAL;QACAf,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCW,IAAnC;QACAzB,WAAW,CAAC6B,KAAZ,CAAkBJ,IAAI,CAACK,OAAvB;QACA/B,QAAQ,CAAC,UAAD,CAAR;MACD,CA7BD,EA6BGgC,KA7BH,CA6BUJ,KAAD,IAAS;QAACC,KAAK,CAACD,KAAD,CAAL;MAAa,CA7BhC;IA+BH,CAhCD,MAgCK;MACDZ,KAAK,CAAC,uGAAD,EACL;QACIC,MAAM,EAAC,MADX;QAEIC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;UAChB,SAAQX,UADQ;UAEhB,YAAWI,aAFK;UAGhB,qBAAoB;QAHJ,CAAf,CAFT;QAQIQ,OAAO,EAAC;UAAC,gBAAe;QAAhB;MARZ,CADK,CAAL,CAWGC,IAXH,CAWSC,GAAD,IAAO;QACX,IAAGA,GAAG,CAACC,EAAP,EAAU;UACNK,KAAK,CAAC,8BAAD,CAAL;QACH,CAFD,MAEK;UACD,OAAON,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,IAAI,IAAE;YACzB,IAAIC,OAAO,GAAC,sBAAZ;;YACA,IAAGD,IAAH,EAAQ;cACJC,OAAO,GAACD,IAAI,CAACE,KAAL,CAAWD,OAAnB;YACH;;YACDE,KAAK,CAACF,OAAD,CAAL;UACH,CANM,CAAP;QAOH;;QACDb,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACE,IAAJ,EAAZ;MACH,CAxBD;IAyBH;EACF,CAnED;;EAoEA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,wBACG;MAAA,UAAKvB,WAAW,GAAC,OAAD,GAAS;IAAzB;MAAA;MAAA;MAAA;IAAA,QADH,eAEE;MAAM,QAAQ,EAAEI,aAAhB;MAAA,wBACE;QAAK,SAAS,EAAC,aAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eACsB;UAAA;UAAA;UAAA;QAAA,QADtB,eAEE;UAAO,IAAI,EAAC,OAAZ;UAAoB,EAAE,EAAC,OAAvB;UAA+B,QAAQ;QAAvC;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAK,SAAS,EAAC,aAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eACyB;UAAA;UAAA;UAAA;QAAA,QADzB,eAEE;UAAO,IAAI,EAAC,UAAZ;UAAuB,EAAE,EAAC,UAA1B;UAAqC,QAAQ;QAA7C;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QALF,eASE;QAAK,SAAS,EAAC,SAAf;QAAA,wBACE;UAAA,uBACE;YAAQ,IAAI,EAAC,QAAb;YAAA,UACGJ,WAAW,GAAG,OAAH,GAAa;UAD3B;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAME;UAAA,uBACE;YAAQ,IAAI,EAAC,QAAb;YAAsB,OAAO,EAAEE,aAA/B;YAAA,UACG,CAACF,WAAD,GAAe,OAAf,GAAyB;UAD5B;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QANF;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6BD,CA/GD;;GAAMH,I;UAGWH,W;;;KAHXG,I;AAiHN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}